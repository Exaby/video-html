<html lang="en">
  <head id="head-js">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width; height=device-height;" />
    <link rel="stylesheet" href="video_files/videocontrols.css" />
    <link rel="stylesheet" href="video_files/TopLevelVideoDocument.css" />
    <link rel="stylesheet" href="video_files/BottomLevelVideoDocument.css" />
    <script
      type="text/javascript"
      src="video_files/TopLevelVideoDocument.js"
    ></script>
    <title></title>
    <meta
      name="description"
      content="HTML5 Video Player From Mozilla On Every Browser"
    />
    <meta property="og:type" content="video.other" />
    <meta property="og:video:width" content="1280" />
    <meta property="og:video:height" content="720" />
  </head>
  <body>
    <div id="vid-js">
      <video
        controls="controls"
        autoplay="autoplay"
        loop=""
        src=""
        poster=""
        height="100%%"
      ></video>
    </div>
    <script>
      //# parse url from query
      function getQueryVariable(variable) {
        var query = window.location.search.substring(1);
        var vars = query.split("&");
        for (var i = 0; i < vars.length; i++) {
          var pair = vars[i].split("=");
          if (decodeURIComponent(pair[0]) == variable) {
            return decodeURIComponent(pair[1]);
          }
        }
        console.log(
          '/index.html?url="https://example.com/video.webm"',
          variable
        );
      }
      //# set variable for local video file
      var vidsrc = getQueryVariable("url").replace(/["]+/g, "");
      //# set variable for poster source
      var vidpos = vidsrc.replace("webm", "webp");

      //# create video element to add into above <div> tag
      vidElement = document.createElement("video");
      vidElement.setAttribute("controls", "");
      vidElement.setAttribute("autoplay", "");
      vidElement.setAttribute("loop", "");
      vidElement.setAttribute("height", "100%%");
      vidElement.setAttribute("src", vidsrc);
      vidElement.setAttribute("poster", vidpos);

      //# add the dynamically created element to the <div> tag
      var container = document.getElementById("vid-js");
      container.appendChild(vidElement);

      DiscordEmbed = document.createElement("meta");
      DiscordEmbed.setAttribute("property", "og:video:url");
      DiscordEmbed.setAttribute("content", vidsrc);

      var container = document.getElementById("head-js");
      container.appendChild(DiscordEmbed);

      //# create document title
      document.title = getQueryVariable("url")
        .replace(/["]+/g, "")
        .replace(/^.*[\\\/]/, "");

      //<meta property="og:type" content="video.other" />
      //<meta property="og:video:url" content="https://ia903201.us.archive.org/33/items/veggietales-vhs-rips-1994-1997-versions/A Very Silly Sing-Along.mp4" />
      //<meta property="og:video:width" content="1280" />
      //<meta property="og:video:height" content="720" />
    </script>
  </body>
</html>
